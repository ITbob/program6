<!doctype html>
<meta charset="utf-8">
<title>Program6</title>
<body>

<script src="pixi.js/bin/pixi.js"></script>
<script src="Backend/Model/Item.js"></script>
<script src="Backend/Toolbox/Rectangle.js"></script>
<script src="Backend/Model/Ceil.js"></script>
<script src="Backend/Model/MyMap.js"></script>
<script>

//Create a Pixi stage and renderer and add the 
//renderer.view to the DOM
//Aliases
var Container = PIXI.Container,
    autoDetectRenderer = PIXI.autoDetectRenderer,
    loader = PIXI.loader,
    resources = PIXI.loader.resources,
    Sprite = PIXI.Sprite;

//Create a Pixi stage and renderer and add the 
//renderer.view to the DOM
var stage = new Container(),
    renderer = autoDetectRenderer(350, 350);
document.body.appendChild(renderer.view);

//load an image and run the `setup` function when it's done
loader.add("Backend/Images/Program6.json").load(setup);
var map;


//This `setup` function will run when the image has loaded
function setup() {

	id = resources["Backend/Images/Program6.json"].textures;

	map = new MyMap(id);
 	
	stage.addChild(rectangle(0, 0, 350, 350, 0xb5f990, 0x000000, 2));
	
	for (var i = 0; i < 150; i++) {
		stage.addChild(map.ceils[i].sprite);
		console.log(i + " x " + map.ceils[i].sprite.x);
	}

	renderer.render(stage);

 	//gameloop();
}

function gameloop(){

	requestAnimationFrame(gameloop);
	
	//ceil.sprite.x += 1;
	
	renderer.render(stage);
}

</script>
</body>
